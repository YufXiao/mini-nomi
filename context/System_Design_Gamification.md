系统设计文档：地牢飞升 (Dungeon Ascension) - 游戏化留存体系

1. 系统架构概览 (System Architecture)

本系统旨在解决“单次游戏后无留存”的问题。我们将用户的学习过程隐喻为**“在无尽的黑暗地牢中，通过记忆的力量构建阶梯，向着地表攀升”**的过程。

核心循环 (Core Loop): 单词预习 -> 气泡战斗 (构建阶梯) -> 结算 (上升)。

外层循环 (Outer Loop): 收集“魂火” -> 强化提灯/救赎灵魂 -> 攀升至更高层 -> 最终逃离。

2. 进度系统：层数与地貌 (Floors & Biomes)

我们使用 “地下层数 (Level B-xxx)” 作为进度指标。用户的目标是从最底层的深渊（如 B1000F）爬升至地表（0F）。

2.1 攀升机制 (The Climb)

高度计算 (Ascension Formula): 攀升高度不再是固定的数值，而是由单词的数量和难度动态决定。

计算公式: 上升层数 = Σ(单词基础分 × 难度系数)

难度系数 (Difficulty Modifier):

Easy (1.0): 短单词、常见词。

Medium (1.5): 多音节词、拼写易错词。

Hard (2.0): 生僻词、长难词。

示例: 完成一组包含 3个简单词和 2个困难词的 Run，可能上升 (3*1 + 2*2) * 基数 = 较大幅度的高度。这意味着挑战越难的单词，逃离地牢的速度越快。

侧边高度计 (Side Altimeter):

UI表现: 界面右侧常驻一个细长的垂直进度条（类似于气压计或深度尺）。

刻度: 标记出关键的里程碑层数（如 B800F, B500F）以及当前所处位置。

动态反馈: 在结算时，进度条会播放液体上升或光标上浮的动画，直观展示“离地表更近了一步”。

重力束缚 (Gravity): 越接近地表 (e.g. B200F - 0F)，来自深渊的引力越强，试图阻止你离开。表现为难度的非线性提升：

负重增加 (Word Count): 单次 Run 的单词组容量由深层的 5个 逐渐增加至表层的 8个，极大地考验短时记忆容量。

结构复杂化 (Complexity): 出现的单词难度系数增加（音节更长、拼写更复杂、含义更抽象）。

时空扭曲 (Time Distortion):

虽然预习阶段的总记忆时间会随单词数量增加而绝对延长（例如从 10s 增加到 20s），以匹配更多的内容；

但单位音节的平均记忆时间实际上是缩短的。

玩家会感觉在接近地表时，时间流逝得更快，必须练就“一眼记词”的本能才能通过。

2.2 环境里程碑 (Biomes)

随着层数的上升，UI 背景色调和氛围音乐会发生渐变，象征着希望的临近：

B1000F - B800F: 虚无深渊 (The Void)

视觉: 纯黑背景，只有极简的白色线条和文字。压抑、寂静。

B800F - B300F: 荧光矿洞 (Crystal Mines)

视觉: 背景出现微弱的青色/紫色矿石微光（对应我们目前的 UI 风格）。

B300F - B50F: 远古遗迹 (Ancient Ruins)

视觉: 背景出现石柱、图腾纹理，色调转暖（暗红/琥珀色）。

B50F - 0F: 黎明出口 (The Gateway)

视觉: 顶部出现强烈的光束，背景逐渐变白，BGM 变得宏大。

0F (通关): 逃离成功，获得“自由勋章”，并开启“二周目”（更高难度的深渊）。

3. 经济系统：魂火与提灯 (Soul Fire & Lantern)

3.1 货币：魂火 (Soul Fire)

设定: 在黑暗中唯一能照明和驱动力量的能源，由正确的知识（单词拼写）产生。

获取:

完整拼写：只有成功拼写一个完整的单词才能 +1 魂火（击破单个音节气泡不产生魂火）。

连胜攀升: 连续无伤通关，魂火获取倍率提升（x1.2, x1.5）。

3.2 消耗：提灯升级 (The Lantern)

用户手中提着的灯是生存的关键。在首页的“营地 (Camp)”升级提灯属性：

Brightness (亮度): 增加预习阶段的视野（倒计时时长 +1s/级）。

Fuel Capacity (燃油): 增加战斗时的 HP 上限（初始 3 -> 最大 5）。

Flare (闪光): 主动技能，消耗魂火瞬间填充当前单词的一个难点音节（防卡关）。

Anchor (锚点): 减少失败后的“坠落”层数（见下文惩罚机制）。

4. 收集系统：灵魂救赎 (Soul Redemption)

这是满足“收集癖”玩家的核心系统。地牢中困着许多其他的微小灵魂（即单词）。

4.1 灵魂伙伴 (Spirits)

机制: 当一个单词被判定为“完全掌握”（Mastered）后，它就从怪物/障碍变成了**“被救赎的微光精灵”**。

表现:

这些小精灵会围绕在用户的主界面（营地）周围。

掌握的词越多，营地周围的光点越密集，视野越亮。

点击小精灵，它会显示自己代表的单词和含义。

4.2 遗物 (Relics)

在特定的层数（如 B500F, B100F），会有 守门人 (Gatekeeper) Boss 战。

击败守门人可获得遗物（如：破损的枷锁、发光的苔藓），作为里程碑展示。

5. 奖惩机制 (Risk & Reward)

此机制是为了契合用户提到的“必须成功才能上升”。

5.1 惩罚：坠落 (The Fall)

机制: 如果在一个 Run 中失败（HP 归零）：

滑落: 用户不仅无法上升，还会向下坠落（例如：当前 B450F -> 掉回 B460F）。

设计意图: 这种“痛感”会极大地刺激用户在战斗中保持专注，不随意乱点。

安全网 (Checkpoint): 每上升 100层（如 B900F, B800F）会解锁一个传送点，坠落不会跌过传送点（防止挫败感过强导致流失）。

5.2 奖励：上升气流 (Updraft)

机制: 连续 3 天登录并通关，或者单次 Run 极速通关，触发“上升气流”。

效果: 下一次 Run 直接上升 30层（3倍速度），帮助用户快速脱离低级区域。

6. 社交与异步互动 (Social)

6.1 绝笔信 (Last Words)

当用户在某一层“死亡/坠落”时，系统会自动记录这层最难的那个词。

其他经过这一层的用户，可能会看到地上有一行发光的字（前人的绝笔信）："小心... Ephemeral..."

作用: 一种非实时的社交提示，既营造了地牢氛围，又提示了难词。

6.2 高度排行榜

显示“距离地表最近的人”。

"Alex 目前位于 B120F，即将看到天空。"

7. 每日任务系统 (Daily Survival)

每日攀爬: 向上推进 30 层。

加固营地: 复习 10 个已掌握的单词（防止它们重新变回怪物）。

奖励: 大量魂火。

8. 总结：用户心流模型

绝望期 (B1000F): 周围一片漆黑，为了生存（HP）拼命记忆单词，点亮微弱的魂火。

探索期 (B500F): 提灯升级了，能看到周围有发光的矿石，开始收集被救赎的小精灵。

冲刺期 (B100F): 已经能隐约看到头顶的光亮，为了彻底逃离地牢，小心翼翼地挑战高难度 Boss，生怕失足坠落。

自由期 (0F): 成功逃离，获得巨大的成就感，回顾身后深不见底的深渊（已背完的单词库）。
